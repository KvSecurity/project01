<!doctype html>
<html lang="en"><vr>
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <title>Student</title>
  </head>
  <body>
    <h1><center>👨‍🎓Student Management System - Demo</center></h1><center> &copy; KvSoft. All rights reserved.</center>
    <hr>
    <h3>Add New Student</h3>
    <div class="form-group">
    <input type="number" class="form-control" id="indexnumber" placeholder="Index number">
  </div>
  <div class="form-group">
    <input type="text" class="form-control" id="name" placeholder="Student Name">
  </div>
  <div class="form-group">    
    <input type="number" class="form-control" id="age" placeholder="Student Age">
  </div>
  <button id="abtn" class="btn btn-primary">Add Student</button>

      <hr>
    <h3>Find Student</h3>
    <div class="form-group">
    <input type="number" class="form-control" id="indexnumber2" placeholder="Index number">
  </div>
  <button id="fbtn" class="btn btn-warning">Find Student</button><br><br>
<div class="form-group">
    <label for="exampleFormControlTextarea1">Student Details</label>
    <textarea class="form-control" id="result" rows="3"></textarea>
  </div>

<hr>
    <h3>Delete Student</h3>
    <div class="form-group">
    <input type="number" class="form-control" id="indexnumber3" placeholder="Index number">
  </div>
  <button id="dbtn" class="btn btn-danger">Delete Student</button><br><br><br>
    <script type="module">

const _0x527bcb=_0x2643;(function(_0xc654e4,_0x4b6508){const _0x5c0fff=_0x2643,_0x31d587=_0xc654e4();while(!![]){try{const _0x3b770=-parseInt(_0x5c0fff(0xf6))/0x1*(parseInt(_0x5c0fff(0xf8))/0x2)+-parseInt(_0x5c0fff(0xfc))/0x3*(-parseInt(_0x5c0fff(0x101))/0x4)+parseInt(_0x5c0fff(0x100))/0x5+parseInt(_0x5c0fff(0xfd))/0x6+parseInt(_0x5c0fff(0x102))/0x7+-parseInt(_0x5c0fff(0xfe))/0x8+-parseInt(_0x5c0fff(0xf5))/0x9;if(_0x3b770===_0x4b6508)break;else _0x31d587['push'](_0x31d587['shift']());}catch(_0x286ac6){_0x31d587['push'](_0x31d587['shift']());}}}(_0x867c,0xbbde4));import{initializeApp}from'https://www.gstatic.com/firebasejs/9.1.0/firebase-app.js';function _0x2643(_0x3983d4,_0x2d00d5){const _0x867c42=_0x867c();return _0x2643=function(_0x264367,_0x45cc99){_0x264367=_0x264367-0xf5;let _0xbbe36=_0x867c42[_0x264367];return _0xbbe36;},_0x2643(_0x3983d4,_0x2d00d5);}const firebaseConfig={'apiKey':_0x527bcb(0xff),'authDomain':_0x527bcb(0xf9),'databaseURL':'https://database-acb14-default-rtdb.firebaseio.com','projectId':_0x527bcb(0xfa),'storageBucket':_0x527bcb(0x103),'messagingSenderId':_0x527bcb(0xfb),'appId':_0x527bcb(0xf7)},app=initializeApp(firebaseConfig);import{getDatabase,ref,get,set,child,update,remove}from'https://www.gstatic.com/firebasejs/9.1.0/firebase-database.js';function _0x867c(){const _0x221507=['1:288829670957:web:f2e0b35b9c9af1ee445aa4','746FsejhI','database-acb14.firebaseapp.com','database-acb14','288829670957','26181BiCQjJ','7569096vWtUcJ','4591064DoFXBA','AIzaSyAj-RY3sSe1elLdYqos1E3GxonWH4elADI','5507590pqrjuC','324FMXRSA','9883006bAsUBu','database-acb14.appspot.com','22709799KlOrof','1649pnxecd'];_0x867c=function(){return _0x221507;};return _0x867c();}const db=getDatabase();
//refs

var id = document.getElementById('indexnumber');
var id2 = document.getElementById('indexnumber2');
var id3 = document.getElementById('indexnumber3');
var name = document.getElementById('name');
var age = document.getElementById('age');

var result = document.getElementById('result');


var abtn = document.getElementById('abtn');
var fbtn = document.getElementById('fbtn');


  function InsertData(){
    set(ref(db, "Students/" + id.value),{
      indexn : id.value,
      name : name.value,
      age : age.value
    })
    .then(()=>{
    	alert("Student Added!");
    	id.value = "";
    	name.value = "";
    	age.value = "";
    })
    .catch((error)=>{
    	alert("Error " + error);
    })
    

  }

  function SelectData(){
    const dbref = ref(db);
    result.value = "";

    get(child(dbref, "Students/" + id2.value)).then((snapshot)=>{        
        result.value = "Index: " + snapshot.val().indexn + "\nName: " + snapshot.val().name + "\nAge: " + snapshot.val().age;
    })
    .catch((error)=>{
    	result.value = "Student not found!";
    })
  }

  function Delete(){
    remove(ref(db, "Students/" + id3.value))
    .then(()=>{
    	alert("Student Deleted!");
    })
    .catch((error)=>{
    	alert("Error " + error);
    })
    id3.value = "";

  }

  //events
  result.value = "";
  id2.value = "";
  id3.value = "";
  abtn.addEventListener('click', InsertData);
  fbtn.addEventListener('click', SelectData);
  dbtn.addEventListener('click', Delete);

</script>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  </body>
</html>